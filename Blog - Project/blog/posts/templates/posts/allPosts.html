{% extends 'posts/base.html' %}

{% block titlePage %}
Blazin' Blog!
{% endblock titlePage %}

{% block content %}

<h1>Welcome to Blazin' Blog!</h1>
<p>Stay tuned for the latest posts on various exciting topics!</p>

<hr>

<h2>Latest Posts:</h2>

<div class="row">
    {% for post in object_list %}
        <div class="col-md-4 mb-4">
            <div class="card h-100"> 
                {% if post.image %}
                    <img src="{{ post.image.url }}" alt="{{ post.title }}" class="card-img-top" style="width: 100%; height: auto;">
                {% else %}
                    <img src="https://via.placeholder.com/400x250" alt="Default Image" class="card-img-top" style="width: 100%; height: auto;">
                {% endif %}
                <div class="card-body d-flex flex-column"> 
                    <h5 class="card-title">
                        <a href="{% url 'post-detail' post.pk %}" class="post-title">{{ post.title }}</a>
                    </h5>
                    <p class="text-muted">By: <i>{{ post.author.first_name }} {{ post.author.last_name }}</i></p>
                    <p class="card-text flex-grow-1">{{ post.content|truncatewords:20 }}</p> 
                    <a href="{% url 'post-detail' post.pk %}" class="btn btn-primary mt-auto">Read More</a> 
                </div>
            </div>
        </div>
    {% endfor %}
</div>

{% endblock content %}